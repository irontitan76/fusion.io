<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#000000">
    
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json">
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico">
    <title>Fusion.io</title>

    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }

      .loading .spinner {
        display: block;
      }

      .spinner {
        display: none;
      }

      .loading {
        align-items: center;
        display: flex;
        height: 100%;
        justify-content: center;
      }

      @keyframes colors {
      	0% { stroke: #0074D9; }
      	33.33% { stroke: #0074D9; }
        66.66% { stroke: #111111; }
      	100% { stroke: #111111; }
      }

      @keyframes dash {
       0% {
         stroke-dashoffset: 187;
       }
       50% {
         stroke-dashoffset: 46.75;
         transform:rotate(135deg);
       }
       100% {
         stroke-dashoffset: 187;
         transform:rotate(450deg);
       }
      }

      @keyframes rotator {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(270deg); }
      }

      .spinner {
        animation: rotator 1.4s linear infinite;
      }

      .path {
        stroke-dasharray: 187;
        stroke-dashoffset: 0;
        transform-origin: center;
        animation: dash 1.4s ease-in-out infinite, colors 5.6s ease-in-out infinite;
      }

    </style>
  </head>
  <body>
    <noscript>
      You need to enable JavaScript to run this app.
    </noscript>
    <div class="loading" id="loading">
      <svg class="spinner" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
        <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
      </svg>
    </div>
    <div id="root" style="height: calc(100% - 64px)">
      <script>
        var c = document.getElementById('root');
        for (var i = 0; i < 100; i += 1) {
          c.insertAdjacentHTML('beforeend', '<div class="t off"></div>');
        }
        var timer = setInterval(function () {
          var again = false;
          if (document.body.classList.contains('loading')) {
            var ts = c.querySelectorAll('div.t.off');
            var index = Math.floor(Math.random() * ts.length);
            ts[index].classList.remove('off');
            ts[index].classList.add('on');
            if (ts.length > 1) {
              again = true;
            }
          }
          if (! again) {
            clearInterval(timer);
          }
        }, 100)
      </script>
    </div>
  </body>
</html>
